<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Graphs Cf, Cg, Ch (Piecewise Cg Formulas)</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    .plot-container { width: 600px; margin: 20px auto; }
  </style>
</head>
<body>

<div class="plot-container" id="plot_f"></div>
<div class="plot-container" id="plot_g"></div>
<div class="plot-container" id="plot_h"></div>

<script>
  function linspace(start, stop, n) {
    const arr = [], step = (stop - start)/(n-1);
    for (let i=0;i<n;i++) arr.push(start + i*step);
    return arr;
  }

  // Cf: monotonic increasing
  const x_f = linspace(-1,2,300);
  const y_f = x_f.map(x => -2 + 5*((x+1)/3)**1.5);

  // Ch: piecewise linear
  const x_h1=[-1,0], y_h1=[-2,0];
  const x_h2=[0,2], y_h2=[1,3];

  // Cg: piecewise nonlinear
  const xg1=linspace(-1,0,150);
  const yg1=xg1.map(x => 3-3*Math.pow(1 + x,0.5));  // decreasing nonlinear

  const xg2=linspace(0,1,100);
  const yg2=xg2.map(x => Math.pow(x,0.7));       // increasing nonlinear

  const xg3=linspace(1,2,150);
  const yg3=xg3.map(x => 1-3*Math.pow(x-1,1.2)); // decreasing nonlinear

  const x_g=[...xg1,...xg2,...xg3];
  const y_g=[...yg1,...yg2,...yg3];

  const layout={margin:{l:50,r:20,t:30,b:50},showlegend:false,
    xaxis:{zeroline:true,title:'x'},yaxis:{zeroline:true,title:'y'}};

  Plotly.newPlot('plot_f', [{x:x_f,y:y_f,mode:'lines',line:{color:'red'}}], {...layout,title:'Cf'});

  Plotly.newPlot('plot_g', [{x:x_g,y:y_g,mode:'lines',line:{color:'red'}}], {...layout,title:'Cg'});

  Plotly.newPlot('plot_h', [
    { x:x_h1, y:y_h1, mode:'lines+markers',line:{color:'red'} },
    { x:x_h2, y:y_h2, mode:'lines+markers',line:{color:'red'}}
  ], {...layout,title:'Ch'});
</script>

</body>
</html>
